Audit inter-dependencies (does buffer REALLY need uint32?)

Add dir_hash, non fixed-size fmt, non fixed-size scan,
dir_name, base_name.

Add buffer_copy from coreproject (about time).
